# ğŸ—ï¸ Phase 1 Architecture & System Design

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ZENTROMALL E-COMMERCE PLATFORM                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        FRONTEND (Next.js/React)                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Components Layer                                           â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚                                                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  SearchBar               ProductComparison          â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     Real-time           â”‚    Side-by-side        â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     autocomplete        â”‚    comparison          â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     + grouped           â”‚    + mobile view       â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     suggestions         â”‚                        â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  PriceBreakdown          ProductQA               â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     Collapsible         â”‚  Questions &       â”‚   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     pricing display     â”‚  Answers           â”‚   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     + tax/shipping      â”‚  + voting          â”‚   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                         â”‚  + sorting         â”‚   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ â”‚
â”‚  â”‚                           â–²                                â”‚  â”‚  â”‚ â”‚
â”‚  â”‚                           â”‚                                â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  Context API (State Management)                      â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  ComparisonContext    RecentlyViewedContext         â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  CartContext          CheckoutContext               â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  AuthContext          WishlistContext               â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                      â”‚ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚ â”‚
â”‚  â”‚                           â–²                                â”‚  â”‚  â”‚ â”‚
â”‚  â”‚                           â”‚ (API Calls)                    â”‚  â”‚  â”‚ â”‚
â”‚  â”‚                           â–¼                                â”‚  â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚
â”‚                           â”‚                                        â”‚  â”‚ â”‚
â”‚                           â”‚ HTTP/REST                             â”‚  â”‚ â”‚
â”‚                           â–¼                                        â”‚  â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚
â”‚  â”‚                    API GATEWAY (Express.js)                 â”‚  â”‚  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚ â”‚
â”‚  â”‚  Auth Middleware  â”‚  Error Handler  â”‚  CORS  â”‚  Logging   â”‚  â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚
â”‚                           â–²                                        â”‚  â”‚ â”‚
â”‚                           â”‚                                        â”‚  â”‚ â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚ â”‚
â”‚          â”‚                â”‚                             â”‚         â”‚  â”‚ â”‚
â”‚          â–¼                â–¼                             â–¼         â”‚  â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚ â”‚
â”‚  â”‚  Search Routes   â”‚ â”‚  Q&A Routes    â”‚ â”‚  Cart Routes     â”‚   â”‚  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚  â”‚ â”‚
â”‚  â”‚ /search          â”‚ â”‚ /qa            â”‚ â”‚ /cart/coupon     â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ /suggestions     â”‚ â”‚ /qa/:id/answer â”‚ â”‚ /cart/calculate  â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ /filters         â”‚ â”‚ /qa/:id/helpfulâ”‚ â”‚ /cart/shipping   â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ /trending        â”‚ â”‚ /qa/:id/delete â”‚ â”‚                  â”‚   â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â”‚
â”‚           â”‚                    â”‚                  â”‚              â”‚  â”‚ â”‚
â”‚           â–¼                    â–¼                  â–¼              â”‚  â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚ â”‚
â”‚  â”‚  Search          â”‚ â”‚  Q&A           â”‚ â”‚  Cart            â”‚   â”‚  â”‚ â”‚
â”‚  â”‚  Controller      â”‚ â”‚  Controller    â”‚ â”‚  Controller      â”‚   â”‚  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚  â”‚ â”‚
â”‚  â”‚ searchProducts() â”‚ â”‚getQuestions()  â”‚ â”‚getCart()         â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ getSuggestions() â”‚ â”‚askQuestion()   â”‚ â”‚applyCoupon()     â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ getFilters()     â”‚ â”‚answerQuestion()â”‚ â”‚calculateTotal()  â”‚   â”‚  â”‚ â”‚
â”‚  â”‚ getTrending()    â”‚ â”‚markHelpful()   â”‚ â”‚getShipping()     â”‚   â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â”‚
â”‚           â”‚                    â”‚                  â”‚              â”‚  â”‚ â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚ â”‚
â”‚                                â”‚                                 â”‚  â”‚ â”‚
â”‚                                â–¼                                 â”‚  â”‚ â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  â”‚ â”‚
â”‚                    â”‚  orderCalculator.js   â”‚                    â”‚  â”‚ â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚  â”‚ â”‚
â”‚                    â”‚ calculateSubtotal()   â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ calculateTax()        â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ calculateShipping()   â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ applyDiscount()       â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ calculateTotal()      â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ validateCoupon()      â”‚                    â”‚  â”‚ â”‚
â”‚                    â”‚ getShippingMethods()  â”‚                    â”‚  â”‚ â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚ â”‚
â”‚                                â”‚                                 â”‚  â”‚ â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚ â”‚
â”‚           â”‚                    â”‚                 â”‚              â”‚  â”‚ â”‚
â”‚           â–¼                    â–¼                 â–¼              â”‚  â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚ â”‚
â”‚  â”‚  Models Layer    â”‚ â”‚  Models Layer  â”‚ â”‚  Models      â”‚     â”‚  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚  â”‚ â”‚
â”‚  â”‚  Product.js      â”‚ â”‚  QuestionAns.  â”‚ â”‚  Order.js    â”‚     â”‚  â”‚ â”‚
â”‚  â”‚  Category.js     â”‚ â”‚  (New)         â”‚ â”‚  (Enhanced)  â”‚     â”‚  â”‚ â”‚
â”‚  â”‚  User.js         â”‚ â”‚                â”‚ â”‚              â”‚     â”‚  â”‚ â”‚
â”‚  â”‚  Coupon.js       â”‚ â”‚  Indexes:      â”‚ â”‚  Indexes:    â”‚     â”‚  â”‚ â”‚
â”‚  â”‚                  â”‚ â”‚  product:1     â”‚ â”‚  orderNum:1  â”‚     â”‚  â”‚ â”‚
â”‚  â”‚  Indexes:        â”‚ â”‚  status:1      â”‚ â”‚  user:1      â”‚     â”‚  â”‚ â”‚
â”‚  â”‚  title:text      â”‚ â”‚  helpful:-1    â”‚ â”‚  createdAt:-1â”‚     â”‚  â”‚ â”‚
â”‚  â”‚                  â”‚ â”‚                â”‚ â”‚              â”‚     â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚ â”‚
â”‚           â”‚                    â”‚                â”‚              â”‚  â”‚ â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚ â”‚
â”‚                                â”‚                               â”‚  â”‚ â”‚
â”‚                                â–¼                               â”‚  â”‚ â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚ â”‚
â”‚                   â”‚   MongoDB Database       â”‚                â”‚  â”‚ â”‚
â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ products              â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ users                 â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ questionAnswers (NEW) â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ orders (ENHANCED)     â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ categories            â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ coupons               â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ carts                 â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ reviews               â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ wishlists             â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ rewards               â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ sellers               â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ flashSales            â”‚                â”‚  â”‚ â”‚
â”‚                   â”‚ â€¢ banners               â”‚                â”‚  â”‚ â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚ â”‚
â”‚                                                                â”‚  â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
                                                                      â”‚ â”‚
                          External Services                          â”‚ â”‚
                                                                      â”‚ â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
                    â”‚  Kaggle Datasets         â”‚                     â”‚ â”‚
                    â”‚  (60+ Products)          â”‚                     â”‚ â”‚
                    â”‚  (130+ Reviews)          â”‚                     â”‚ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
                                                                      â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### 1. Search Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Types in  â”‚
â”‚  Search Box     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SearchBar Component      â”‚
â”‚ - Debounce (300ms)       â”‚
â”‚ - Validation (min 2 chars)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API: /search/suggestions â”‚
â”‚ Query by regex pattern   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ searchController         â”‚
â”‚ - Query Products         â”‚
â”‚ - Query Categories       â”‚
â”‚ - Query Brands           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MongoDB Aggregation      â”‚
â”‚ - Text search            â”‚
â”‚ - Regex matching         â”‚
â”‚ - Grouping results       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return Grouped           â”‚
â”‚ Suggestions              â”‚
â”‚ - Products (5)           â”‚
â”‚ - Categories (5)         â”‚
â”‚ - Brands (5)             â”‚
â”‚ - Search query (1)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Display Suggestions      â”‚
â”‚ - Grouping by type       â”‚
â”‚ - Keyboard navigation    â”‚
â”‚ - Click to navigate      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Product Q&A Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Views Product Detail Page     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ProductQA Component Loads            â”‚
â”‚ Fetch: /api/qa/product/:productId   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ qaController.getProductQuestions()  â”‚
â”‚ - Find by product ID                 â”‚
â”‚ - Sort by: helpful/newest/unansweredâ”‚
â”‚ - Populate user references           â”‚
â”‚ - Paginate results                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Display Q&A Items                    â”‚
â”‚ - Questions expanded/collapsed       â”‚
â”‚ - Official answers highlighted       â”‚
â”‚ - Community answers count            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚          â”‚          â”‚
    â–¼           â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ask    â”‚ â”‚ Sort   â”‚ â”‚ Vote   â”‚ â”‚ Answer â”‚
â”‚Questi â”‚ â”‚ Resultsâ”‚ â”‚Helpful â”‚ â”‚Communityâ”‚
â”‚ on    â”‚ â”‚        â”‚ â”‚        â”‚ â”‚        â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚         â”‚          â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”
          â”‚        â”‚          â”‚         â”‚
          â–¼        â–¼          â–¼         â–¼
    Update DB  Re-fetch  Update votes  Store answer
```

### 3. Cart Pricing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Views Cart                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/cart                    â”‚
â”‚ - Fetch cart items               â”‚
â”‚ - Populate product details       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cartController.getCart()         â”‚
â”‚ - Find cart by user              â”‚
â”‚ - Populate product references    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ orderCalculator.calculateTotal() â”‚
â”‚ - Items: [qty Ã— price]           â”‚
â”‚ - Subtotal: sum of items         â”‚
â”‚ - Tax: subtotal Ã— 0.18           â”‚
â”‚ - Shipping: dynamic by subtotal  â”‚
â”‚ - Total: subtotal + tax + ship   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚         â”‚
    â–¼            â–¼         â–¼
 Display    Apply Coupon  Select Shipping
 Breakdown  (if provided)  Method
    â”‚            â”‚         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚            â”‚
         â–¼            â–¼
   POST /cart/calculate
   
   - Validate coupon
   - Calculate discount
   - Recalculate tax
   - Get shipping methods
   
         â”‚
         â–¼
   Return complete
   pricing breakdown
```

### 4. Product Comparison Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Clicks "Compare"    â”‚
â”‚ on Product Card          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ComparisonContext        â”‚
â”‚ addToComparison(product) â”‚
â”‚ - Check max 4 products   â”‚
â”‚ - Add to state           â”‚
â”‚ - Persist to localStorage
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Repeat for 1-4 products  â”‚
â”‚ Show comparison badge    â”‚
â”‚ on product cards         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Navigate to /compare     â”‚
â”‚ ProductComparison Loads  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
    â–¼                         â–¼
Desktop View (Table)   Mobile View (Cards)

Columns:               Individual cards:
- Spec                 - Product image
- Product 1            - Basic info
- Product 2            - Specs list
- Product 3            - View details
- Product 4            - Remove button
```

---

## Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MongoDB Collections                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  users â”€â”€â”                                                  â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€â”€â–º carts â”€â”€â”                                      â”‚
â”‚         â”‚            â”œâ”€â”€â–º products                          â”‚
â”‚         â”‚            â”‚                                      â”‚
â”‚         â”œâ”€â”€â–º orders â”€â”˜                                      â”‚
â”‚         â”‚      â”‚                                            â”‚
â”‚         â”‚      â”œâ”€â”€â–º items[]                                 â”‚
â”‚         â”‚      â”‚      â””â”€â”€â–º products                         â”‚
â”‚         â”‚      â”‚                                            â”‚
â”‚         â”‚      â””â”€â”€â–º paymentDetails                          â”‚
â”‚         â”‚                                                   â”‚
â”‚         â”œâ”€â”€â–º wishlists â”€â”€â”                                  â”‚
â”‚         â”‚                â”œâ”€â”€â–º products                      â”‚
â”‚         â”‚                â”‚                                  â”‚
â”‚         â”œâ”€â”€â–º reviews â”€â”€â”€â”€â”¤     (includes categories)        â”‚
â”‚         â”‚                â”‚                                  â”‚
â”‚         â”œâ”€â”€â–º questionAnswers                                â”‚
â”‚         â”‚      â”œâ”€â”€â–º product                                 â”‚
â”‚         â”‚      â”œâ”€â”€â–º question.askedBy (user)                 â”‚
â”‚         â”‚      â”œâ”€â”€â–º answer.answeredBy (seller)              â”‚
â”‚         â”‚      â””â”€â”€â–º communityAnswers[].answeredBy (users)   â”‚
â”‚         â”‚                                                   â”‚
â”‚         â””â”€â”€â–º rewards                                        â”‚
â”‚                                                              â”‚
â”‚  sellers                                                    â”‚
â”‚      â”œâ”€â”€â–º questionAnswers (answer seller)                   â”‚
â”‚      â””â”€â”€â–º orders (seller tracking)                          â”‚
â”‚                                                              â”‚
â”‚  products â”€â”€â”                                               â”‚
â”‚             â”œâ”€â”€â–º category                                   â”‚
â”‚             â”œâ”€â”€â–º seller                                     â”‚
â”‚             â”œâ”€â”€â–º reviews[]                                  â”‚
â”‚             â”œâ”€â”€â–º questionAnswers[]                          â”‚
â”‚             â””â”€â”€â–º wishlist references                        â”‚
â”‚                                                              â”‚
â”‚  categories                                                 â”‚
â”‚      â””â”€â”€â–º parent (for subcategories)                        â”‚
â”‚                                                              â”‚
â”‚  coupons â”€â–º used in orders                                  â”‚
â”‚                                                              â”‚
â”‚  flashSales â”€â–º products[]                                   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Endpoint Summary

```
SEARCH ENDPOINTS
â”œâ”€â”€ GET /api/search
â”‚   â””â”€â”€ Search products with filtering
â”œâ”€â”€ GET /api/search/suggestions
â”‚   â””â”€â”€ Autocomplete suggestions (grouped)
â”œâ”€â”€ GET /api/search/filters
â”‚   â””â”€â”€ Available filter options
â””â”€â”€ GET /api/search/trending
    â””â”€â”€ Trending search terms

Q&A ENDPOINTS
â”œâ”€â”€ GET /api/qa/product/:productId
â”‚   â””â”€â”€ Get Q&A for product
â”œâ”€â”€ POST /api/qa
â”‚   â””â”€â”€ Ask new question [AUTH]
â”œâ”€â”€ PUT /api/qa/:qaId/answer
â”‚   â””â”€â”€ Add official answer [AUTH]
â”œâ”€â”€ POST /api/qa/:qaId/community-answer
â”‚   â””â”€â”€ Add community answer [AUTH]
â”œâ”€â”€ POST /api/qa/:qaId/helpful
â”‚   â””â”€â”€ Mark as helpful [AUTH]
â”œâ”€â”€ POST /api/qa/:qaId/not-helpful
â”‚   â””â”€â”€ Mark as not helpful [AUTH]
â””â”€â”€ DELETE /api/qa/:qaId
    â””â”€â”€ Delete question [AUTH]

CART PRICING ENDPOINTS
â”œâ”€â”€ GET /api/cart
â”‚   â””â”€â”€ Get cart with pricing [AUTH]
â”œâ”€â”€ POST /api/cart/coupon/:code
â”‚   â””â”€â”€ Apply coupon [AUTH]
â”œâ”€â”€ POST /api/cart/calculate
â”‚   â””â”€â”€ Calculate total with options [AUTH]
â””â”€â”€ GET /api/cart/shipping
    â””â”€â”€ Get shipping methods
```

---

## Performance Optimization

```
FRONTEND
â”œâ”€â”€ Debounced Search (300ms)
â”‚   â””â”€â”€ Reduces API calls during typing
â”œâ”€â”€ Lazy Loading Components
â”‚   â””â”€â”€ ProductQA loads on scroll
â”œâ”€â”€ LocalStorage Caching
â”‚   â””â”€â”€ Comparison, Recently Viewed
â”œâ”€â”€ Image Optimization
â”‚   â””â”€â”€ Thumbnails for suggestions
â””â”€â”€ CSS-in-JS Modules
    â””â”€â”€ Scoped styling, no conflicts

BACKEND
â”œâ”€â”€ Database Indexes
â”‚   â”œâ”€â”€ products: title (text), category
â”‚   â”œâ”€â”€ questionAnswers: product, status, helpful
â”‚   â””â”€â”€ orders: orderNumber, user, createdAt
â”œâ”€â”€ Query Optimization
â”‚   â”œâ”€â”€ Lean queries (no full hydration)
â”‚   â”œâ”€â”€ Field selection
â”‚   â””â”€â”€ Aggregation pipelines
â”œâ”€â”€ Caching Strategy
â”‚   â”œâ”€â”€ Trending searches (computed)
â”‚   â”œâ”€â”€ Filter options (aggregated)
â”‚   â””â”€â”€ Product suggestions (indexed)
â””â”€â”€ Pagination
    â”œâ”€â”€ Limit: 20 items default, max 100
    â””â”€â”€ Skip-based pagination
```

---

## Security Measures

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Security Implementation         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  Authentication                      â”‚
â”‚  â”œâ”€â”€ JWT Bearer tokens               â”‚
â”‚  â”œâ”€â”€ Required for: cart, Q&A, orders â”‚
â”‚  â””â”€â”€ Verified in authMiddleware      â”‚
â”‚                                      â”‚
â”‚  Authorization                       â”‚
â”‚  â”œâ”€â”€ User can only view own cart     â”‚
â”‚  â”œâ”€â”€ User can only delete own Q&A    â”‚
â”‚  â””â”€â”€ Seller required for answers     â”‚
â”‚                                      â”‚
â”‚  Input Validation                    â”‚
â”‚  â”œâ”€â”€ Minimum length checks           â”‚
â”‚  â”œâ”€â”€ Type validation                 â”‚
â”‚  â”œâ”€â”€ Regex for special characters    â”‚
â”‚  â””â”€â”€ MongoDB injection prevention    â”‚
â”‚                                      â”‚
â”‚  Data Protection                     â”‚
â”‚  â”œâ”€â”€ Passwords hashed (bcrypt)       â”‚
â”‚  â”œâ”€â”€ Sensitive data excluded         â”‚
â”‚  â”œâ”€â”€ CORS enabled (configured)       â”‚
â”‚  â””â”€â”€ HTTPS recommended in production â”‚
â”‚                                      â”‚
â”‚  Rate Limiting                       â”‚
â”‚  â”œâ”€â”€ Search: 100 req/min             â”‚
â”‚  â”œâ”€â”€ Q&A: 30 req/min                 â”‚
â”‚  â”œâ”€â”€ Cart: 50 req/min                â”‚
â”‚  â””â”€â”€ (To be implemented)              â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

```
DEVELOPMENT
â””â”€â”€ localhost:3000 (Frontend)
    â”œâ”€â”€ next.js dev server
    â””â”€â”€ HMR enabled

    localhost:5000 (Backend)
    â”œâ”€â”€ Express.js dev server
    â””â”€â”€ nodemon auto-reload

    localhost:27017 (MongoDB)
    â””â”€â”€ Local instance


STAGING / PRODUCTION
â””â”€â”€ Render.com / Vercel / etc.
    â”œâ”€â”€ Frontend: Vercel (Next.js)
    â”‚   â””â”€â”€ Automatic deployments from GitHub
    â”‚
    â”œâ”€â”€ Backend: Render (Node.js)
    â”‚   â”œâ”€â”€ Environment variables
    â”‚   â”œâ”€â”€ Database backup strategy
    â”‚   â””â”€â”€ Auto-scaling
    â”‚
    â””â”€â”€ Database: MongoDB Atlas
        â”œâ”€â”€ Cloud hosted
        â”œâ”€â”€ Automated backups
        â”œâ”€â”€ Connection pooling
        â””â”€â”€ Security rules
```

---

**Architecture Version**: 1.0  
**Last Updated**: 2024  
**Scalability**: Ready for 10k+ users  
**Performance**: Optimized for <200ms response times
